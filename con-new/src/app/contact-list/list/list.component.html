
<div  *ngIf="error" class="alert alert-danger pt-5 mt-5" role="alert">
  {{error}}
</div>
<div  class="ghost-top"></div>
<div *ngIf="!error" class="table-all">
  <div class="mat-elevation-z8">
    <table mat-table [dataSource]="dataSource" matSort>

      <!-- alias -->
      <ng-container matColumnDef="alias">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Pseudonim </th>
        <td mat-cell *matCellDef="let row"> {{row.alias}} </td>
      </ng-container>
      <!-- firs_name -->
      <ng-container matColumnDef="first_name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Imię </th>
        <td mat-cell *matCellDef="let row"> {{row.first_name}}</td>
      </ng-container>
      <!-- last_name -->
      <ng-container matColumnDef="last_name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Nazwisko</th>
        <td mat-cell *matCellDef="let row"> {{row.last_name}} </td>
      </ng-container>
      <!-- email -->
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Adres email </th>
        <td mat-cell *matCellDef="let row" [style.color]="row.color"> {{row.email}} </td>
      </ng-container>
       <!-- telephon -->
      <ng-container matColumnDef="telephon">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Telefon </th>
        <td mat-cell *matCellDef="let row" [style.color]="row.color"> {{row.telephon}} </td>
      </ng-container>
      <!--sex-->
      <ng-container matColumnDef="sex">
        <th mat-header-cell *matHeaderCellDef mat-sort-header class="into-cell" > Płeć </th>
        <td   mat-cell *matCellDef="let row" [style.color]="row.color" >
          <span class="into-cell" *ngIf = "row.sex == 'k'">Kobieta</span>
          <span class="into-cell" *ngIf = "row.sex == 'm'">Mężczyzna</span>
        </td>
      </ng-container>
      <!-- details -->
      <ng-container matColumnDef="details">
        <th mat-header-cell *matHeaderCellDef mat-sort-header></th>
        <td mat-cell *matCellDef="let row" [style.color]="row.color">
          <button mat-raised-button [routerLink] = "['details', row.id]">Szczegóły</button>
        </td>
      </ng-container>
      <!-- edit -->
      <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef mat-sort-header></th>
        <td mat-cell *matCellDef="let row" [style.color]="row.color">
          <button  mat-raised-button [routerLink] = "['edit', row.id]">Edycja</button>
        </td>
      </ng-container>
      <!-- delete -->
      <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef mat-sort-header></th>
        <td mat-cell *matCellDef="let row" [style.color]="row.color">
          <button mat-stroked-button color="warn"  (click)="delete(row)" [routerLink] = "['']">Usuń</button>
        </td>
      </ng-container>
      <!--th -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"> </tr>

    </table>

  </div>
      <!-- footer -->
<div class="footer-tabs fixed-bottom">
       <!-- filtr -->
  <div>
    <mat-form-field>
      <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
    </mat-form-field>
  </div>
     <!-- add client -->
     <div>
    <button (click)="openNewContactModal()" mat-flat-button color="primary"  class="btn-block" id ="new-contact">Dodaj nowego klienta</button>

     </div>
     <!-- paginator -->
  <mat-paginator [pageSizeOptions]="[10, 20, 30]"></mat-paginator>
</div>
</div>

<router-outlet></router-outlet>
